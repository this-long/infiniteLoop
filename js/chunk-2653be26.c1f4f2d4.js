(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2653be26"],{"035d":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topic-create"},[n("HomeNav",[t._v("/ 发布话题")]),n("div",{staticClass:"editor-top"},[n("label",{attrs:{for:"topicType"}},[t._v("选择板块 : ")]),n("el-select",{staticStyle:{"margin-left":"10px"},attrs:{id:"topicType",placeholder:"请选择"},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},t._l(t.topicType,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value,disabled:t.disabled}})})),1)],1),n("div",{staticClass:"editor-title"},[n("el-input",{attrs:{placeholder:"标题字数10字以上",clearable:""},model:{value:t.titleInput,callback:function(e){t.titleInput=e},expression:"titleInput"}})],1),n("div",{staticClass:"editor-main"},[n("editor",{attrs:{"api-key":"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754",init:{height:700,menubar:!1,language:"zh_CN",resize:"false",plugins:["advlist autolink lists link image charmap print preview anchor","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount "],toolbar:"undo redo | formatselect | bold italic backcolor |          alignleft aligncenter alignright alignjustify |          bullist numlist outdent indent | removeformat | help"}},model:{value:t.titleContent,callback:function(e){t.titleContent=e},expression:"titleContent"}})],1),n("div",{staticClass:"editor-buttom"},[n("el-button",{attrs:{plain:!0,type:"info"},on:{click:function(e){return t.isSubmit()}}},[t._v("提交")])],1)],1)},r=[],o=n("1da1"),a=n("5530"),c=(n("96cf"),n("ac1f"),n("5319"),n("8baf")),s=n("709a"),l=n("ca72"),u=n("2f62"),p=n("87c4"),d={components:{editor:l["a"],HomeNav:p["a"]},data:function(){return{typeValue:"",titleInput:"",titleContent:"",topicType:[{value:"share",label:"分享",disabled:!0},{value:"ask",label:"问答",disabled:!0},{value:"job",label:"招聘",disabled:!0},{value:"dev",label:"客户端测试"}],textContent:""}},created:function(){if(this.falseCreate(),null!==this.createTopic.editTopic){console.log(this.createTopic.editTopic);var t=this.createTopic.editTopic.data,e=t.tab,n=t.title,i=t.content;this.typeValue=e,this.titleInput=n;var r=new c["a"],o=r.turndown(i);o.replace(" ","<br>"),this.titleContent=o.replace(/[\f\n\r\t\v]/g,"<br>")}},beforeDestroy:function(){this.trueCreate(),this.clearEditTopic()},computed:Object(a["a"])({},Object(u["d"])(["singUp","createTopic"])),methods:Object(a["a"])(Object(a["a"])({},Object(u["c"])(["trueCreate","falseCreate","clearEditTopic"])),{},{isSubmit:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var n,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=tinymce.activeEditor,i=n.getBody(),n.selection.select(i),t.textContent=n.selection.getContent({format:"text"}),""!==t.typeValue){e.next=8;break}t.$message({message:"请先选择话题板块",type:"warning"}),e.next=24;break;case 8:if(!(""===t.titleInput||t.titleInput.length<10)){e.next=12;break}t.$message({message:"请输入10字以上的标题",type:"warning"}),e.next=24;break;case 12:if(r=null,null===t.createTopic.editTopic){e.next=20;break}return e.next=16,s["a"].post("/topics/update",{accesstoken:sessionStorage.getItem("accesstoken"),topic_id:t.createTopic.editTopic.data.id,title:t.titleInput,tab:t.typeValue,content:t.textContent});case 16:r=e.sent,r.success&&(t.titleInput="",t.titleContent="",t.$message({message:"恭喜你，编辑话题成功",type:"success"})),e.next=24;break;case 20:return e.next=22,s["a"].post("/topics",{accesstoken:sessionStorage.getItem("accesstoken"),title:t.titleInput,tab:t.typeValue,content:t.textContent});case 22:r=e.sent,r.success&&(t.titleInput="",t.titleContent="",t.$message({message:"恭喜你，发布话题成功",type:"success"}));case 24:case"end":return e.stop()}}),e)})))()}})},f=d,v=(n("3ff7"),n("2877")),h=Object(v["a"])(f,i,r,!1,null,null,null);e["default"]=h.exports},"0574":function(t,e,n){},"0cb2":function(t,e,n){var i=n("7b0b"),r=Math.floor,o="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,s,l,u){var p=n+t.length,d=s.length,f=c;return void 0!==l&&(l=i(l),f=a),o.call(u,f,(function(i,o){var a;switch(o.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(p);case"<":a=l[o.slice(1,-1)];break;default:var c=+o;if(0===c)return i;if(c>d){var u=r(c/10);return 0===u?i:u<=d?void 0===s[u-1]?o.charAt(1):s[u-1]+o.charAt(1):i}a=s[c-1]}return void 0===a?"":a}))}},"14c3":function(t,e,n){var i=n("c6b6"),r=n("9263");t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"3ff7":function(t,e,n){"use strict";n("0574")},5319:function(t,e,n){"use strict";var i=n("d784"),r=n("825a"),o=n("50c4"),a=n("a691"),c=n("1d80"),s=n("8aa5"),l=n("0cb2"),u=n("14c3"),p=Math.max,d=Math.min,f=function(t){return void 0===t?t:String(t)};i("replace",2,(function(t,e,n,i){var v=i.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=i.REPLACE_KEEPS_$0,g=v?"$":"$0";return[function(n,i){var r=c(this),o=void 0==n?void 0:n[t];return void 0!==o?o.call(n,r,i):e.call(String(r),n,i)},function(t,i){if(!v&&h||"string"===typeof i&&-1===i.indexOf(g)){var c=n(e,t,this,i);if(c.done)return c.value}var b=r(t),m=String(this),y="function"===typeof i;y||(i=String(i));var x=b.global;if(x){var E=b.unicode;b.lastIndex=0}var C=[];while(1){var $=u(b,m);if(null===$)break;if(C.push($),!x)break;var S=String($[0]);""===S&&(b.lastIndex=s(m,o(b.lastIndex),E))}for(var I="",w=0,k=0;k<C.length;k++){$=C[k];for(var R=String($[0]),O=p(d(a($.index),m.length),0),T=[],j=1;j<$.length;j++)T.push(f($[j]));var _=$.groups;if(y){var A=[R].concat(T,O,m);void 0!==_&&A.push(_);var P=String(i.apply(void 0,A))}else P=l(R,m,O,T,_,i);O>=w&&(I+=m.slice(w,O)+P,w=O+R.length)}return I+m.slice(w)}]}))},"87c4":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("router-link",{attrs:{to:"/"}},[t._v("主页 ")]),t._t("default")],2)},r=[],o={},a=o,c=(n("a9bd"),n("2877")),s=Object(c["a"])(a,i,r,!1,null,null,null);e["a"]=s.exports},"8a40":function(t,e,n){},"8aa5":function(t,e,n){"use strict";var i=n("6547").charAt;t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},9263:function(t,e,n){"use strict";var i=n("ad6d"),r=n("9f7f"),o=n("5692"),a=RegExp.prototype.exec,c=o("native-string-replace",String.prototype.replace),s=a,l=function(){var t=/a/,e=/b*/g;return a.call(t,"a"),a.call(e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),u=r.UNSUPPORTED_Y||r.BROKEN_CARET,p=void 0!==/()??/.exec("")[1],d=l||p||u;d&&(s=function(t){var e,n,r,o,s=this,d=u&&s.sticky,f=i.call(s),v=s.source,h=0,g=t;return d&&(f=f.replace("y",""),-1===f.indexOf("g")&&(f+="g"),g=String(t).slice(s.lastIndex),s.lastIndex>0&&(!s.multiline||s.multiline&&"\n"!==t[s.lastIndex-1])&&(v="(?: "+v+")",g=" "+g,h++),n=new RegExp("^(?:"+v+")",f)),p&&(n=new RegExp("^"+v+"$(?!\\s)",f)),l&&(e=s.lastIndex),r=a.call(d?n:s,g),d?r?(r.input=r.input.slice(h),r[0]=r[0].slice(h),r.index=s.lastIndex,s.lastIndex+=r[0].length):s.lastIndex=0:l&&r&&(s.lastIndex=s.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=s},"9f7f":function(t,e,n){"use strict";var i=n("d039");function r(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=i((function(){var t=r("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=i((function(){var t=r("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},a9bd:function(t,e,n){"use strict";n("8a40")},ac1f:function(t,e,n){"use strict";var i=n("23e7"),r=n("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,n){"use strict";var i=n("825a");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},c4a9:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r}));var i=function(){return"undefined"!==typeof window?window:t},r=function(){var t=i();return t&&t.tinymce?t.tinymce:null}}).call(this,n("c8ba"))},ca72:function(t,e,n){"use strict";var i=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],r=function(t){return-1!==i.map((function(t){return t.toLowerCase()})).indexOf(t.toLowerCase())},o=function(t,e,n){Object.keys(e).filter(r).forEach((function(i){var r=e[i];"function"===typeof r&&("onInit"===i?r(t,n):n.on(i.substring(2),(function(t){return r(t,n)})))}))},a=function(t,e){var n=t.$props.modelEvents?t.$props.modelEvents:null,i=Array.isArray(n)?n.join(" "):n;e.on(i||"change input undo redo",(function(){t.$emit("input",e.getContent({format:t.$props.outputFormat}))}))},c=function(t,e,n){var i=e.$props.value?e.$props.value:"",r=e.$props.initialValue?e.$props.initialValue:"";n.setContent(i||(e.initialized?e.cache:r)),e.$watch("value",(function(t,i){n&&"string"===typeof t&&t!==i&&t!==n.getContent({format:e.$props.outputFormat})&&n.setContent(t)})),e.$listeners.input&&a(e,n),o(t,e.$listeners,n),e.initialized=!0},s=0,l=function(t){var e=Date.now(),n=Math.floor(1e9*Math.random());return s++,t+"_"+n+s+String(e)},u=function(t){return null!==t&&"textarea"===t.tagName.toLowerCase()},p=function(t){return"undefined"===typeof t||""===t?[]:Array.isArray(t)?t:t.split(" ")},d=function(t,e){return p(t).concat(p(e))},f=function(t){return null===t||void 0===t},v=function(){return{listeners:[],scriptId:l("tiny-script"),scriptLoaded:!1}},h=function(){var t=v(),e=function(t,e,n,i){var r=e.createElement("script");r.referrerPolicy="origin",r.type="application/javascript",r.id=t,r.src=n;var o=function(){r.removeEventListener("load",o),i()};r.addEventListener("load",o),e.head&&e.head.appendChild(r)},n=function(n,i,r){t.scriptLoaded?r():(t.listeners.push(r),n.getElementById(t.scriptId)||e(t.scriptId,n,i,(function(){t.listeners.forEach((function(t){return t()})),t.scriptLoaded=!0})))},i=function(){t=v()};return{load:n,reinitialize:i}},g=h(),b=n("c4a9"),m={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],value:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(t){return"html"===t||"text"===t}}},y=function(){return y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},y.apply(this,arguments)},x=function(t,e,n){return t(n||"div",{attrs:{id:e}})},E=function(t,e){return t("textarea",{attrs:{id:e},style:{visibility:"hidden"}})},C=function(t){return function(){var e=y(y({},t.$props.init),{readonly:t.$props.disabled,selector:"#"+t.elementId,plugins:d(t.$props.init&&t.$props.init.plugins,t.$props.plugins),toolbar:t.$props.toolbar||t.$props.init&&t.$props.init.toolbar,inline:t.inlineEditor,setup:function(e){t.editor=e,e.on("init",(function(n){return c(n,t,e)})),t.$props.init&&"function"===typeof t.$props.init.setup&&t.$props.init.setup(e)}});u(t.element)&&(t.element.style.visibility="",t.element.style.display=""),Object(b["a"])().init(e)}},$={props:m,created:function(){this.elementId=this.$props.id||l("tiny-vue"),this.inlineEditor=this.$props.init&&this.$props.init.inline||this.$props.inline,this.initialized=!1},watch:{disabled:function(){this.editor.setMode(this.disabled?"readonly":"design")}},mounted:function(){if(this.element=this.$el,null!==Object(b["a"])())C(this)();else if(this.element&&this.element.ownerDocument){var t=this.$props.cloudChannel?this.$props.cloudChannel:"5",e=this.$props.apiKey?this.$props.apiKey:"no-api-key",n=f(this.$props.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+e+"/tinymce/"+t+"/tinymce.min.js":this.$props.tinymceScriptSrc;g.load(this.element.ownerDocument,n,C(this))}},beforeDestroy:function(){null!==Object(b["a"])()&&Object(b["a"])().remove(this.editor)},deactivated:function(){var t;this.inlineEditor||(this.cache=this.editor.getContent(),null===(t=Object(b["a"])())||void 0===t||t.remove(this.editor))},activated:function(){!this.inlineEditor&&this.initialized&&C(this)()},render:function(t){return this.inlineEditor?x(t,this.elementId,this.$props.tagName):E(t,this.elementId)}};e["a"]=$},d784:function(t,e,n){"use strict";n("ac1f");var i=n("6eeb"),r=n("d039"),o=n("b622"),a=n("9112"),c=o("species"),s=!r((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),l=function(){return"$0"==="a".replace(/./,"$0")}(),u=o("replace"),p=function(){return!!/./[u]&&""===/./[u]("a","$0")}(),d=!r((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,u){var f=o(t),v=!r((function(){var e={};return e[f]=function(){return 7},7!=""[t](e)})),h=v&&!r((function(){var e=!1,n=/a/;return"split"===t&&(n={},n.constructor={},n.constructor[c]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return e=!0,null},n[f](""),!e}));if(!v||!h||"replace"===t&&(!s||!l||p)||"split"===t&&!d){var g=/./[f],b=n(f,""[t],(function(t,e,n,i,r){return e.exec===RegExp.prototype.exec?v&&!r?{done:!0,value:g.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),{REPLACE_KEEPS_$0:l,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),m=b[0],y=b[1];i(String.prototype,t,m),i(RegExp.prototype,f,2==e?function(t,e){return y.call(t,this,e)}:function(t){return y.call(t,this)})}u&&a(RegExp.prototype[f],"sham",!0)}}}]);
//# sourceMappingURL=chunk-2653be26.c1f4f2d4.js.map