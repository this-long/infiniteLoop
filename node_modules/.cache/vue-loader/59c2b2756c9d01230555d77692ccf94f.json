{"remainingRequest":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\views\\Home.vue","mtime":1624791998185},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBTdGF0ZSwgbWFwTXV0YXRpb25zIH0gZnJvbSAidnVleCI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJIb21lIiwNCiAgY29tcG9uZW50czoge30sDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGFydGljbGVzTnVtOiB7DQogICAgICAgIGFsbDogNjgwLA0KICAgICAgICBnb29kOiA3MjAsDQogICAgICAgIHNoYXJlOiA0NDAsDQogICAgICAgIGFzazogMjgwLA0KICAgICAgICBqb2I6IDI0MCwNCiAgICAgICAgZGV2OiAzNjAsDQogICAgICB9LA0KICAgICAgbm93UGFnOiA2ODAsDQogICAgICBjdXJyZW50UGFnZTogMSwNCiAgICAgIHRhYjogIiIsDQogICAgfTsNCiAgfSwNCiAgY3JlYXRlZCgpIHsNCiAgICB0aGlzLmdldFVucmVhZE51bSgpOw0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcFN0YXRlKFsiYWxsQXJ0aWNsZXMiXSksDQogIH0sDQogIHdhdGNoOiB7DQogICAgLy/nm5HlkKzot6/nlLHmlLnlj5jvvIzlr7nlupTojrflj5bmlofnq6DliIbnsbsNCiAgICAiJHJvdXRlLnBhcmFtcy50YWciOiB7DQogICAgICBoYW5kbGVyKG5ld1ZhbHVlKSB7DQogICAgICAgIC8vIGxldCB0YWIgPSAiIjsNCiAgICAgICAgbmV3VmFsdWUgPyAodGhpcy50YWIgPSBgJnRhYj0ke25ld1ZhbHVlfWApIDogKHRoaXMudGFiID0gIiIpOw0KICAgICAgICB0aGlzLmdldEFydGljbGVzKHsgdGFiOiB0aGlzLnRhYiwgcGFnZTogMSB9KTsNCiAgICAgICAgIW5ld1ZhbHVlDQogICAgICAgICAgPyAodGhpcy5ub3dQYWcgPSA2ODApDQogICAgICAgICAgOiBuZXdWYWx1ZSA9PT0gImdvb2QiDQogICAgICAgICAgPyAodGhpcy5ub3dQYWcgPSA3MjApDQogICAgICAgICAgOiBuZXdWYWx1ZSA9PT0gInNoYXJlIg0KICAgICAgICAgID8gKHRoaXMubm93UGFnID0gNDQwKQ0KICAgICAgICAgIDogbmV3VmFsdWUgPT09ICJhc2siDQogICAgICAgICAgPyAodGhpcy5ub3dQYWcgPSAyODApDQogICAgICAgICAgOiBuZXdWYWx1ZSA9PT0gImpvYiINCiAgICAgICAgICA/ICh0aGlzLm5vd1BhZyA9IDI0MCkNCiAgICAgICAgICA6IG5ld1ZhbHVlID09PSAiZGV2Ig0KICAgICAgICAgID8gKHRoaXMubm93UGFnID0gMzYwKQ0KICAgICAgICAgIDogKG5ld1ZhbHVlID0gMCk7DQogICAgICAgIHRoaXMuY3VycmVudFBhZ2UgPSAxOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXdWYWx1ZSk7DQogICAgICB9LA0KICAgICAgaW1tZWRpYXRlOiB0cnVlLA0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAuLi5tYXBBY3Rpb25zKFsiZ2V0QXJ0aWNsZXMiXSksDQoNCiAgICBnZXRDdXJyZW50QXJ0aWNsZXMoKSB7DQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmN1cnJlbnRQYWdlKTsNCiAgICAgIHRoaXMuZ2V0QXJ0aWNsZXMoeyB0YWI6IHRoaXMudGFiLCBwYWdlOiB0aGlzLmN1cnJlbnRQYWdlIH0pOw0KICAgIH0sDQogICAgLy8gdXNlckRldGFpbHMoZWxlKSB7DQogICAgLy8gICBjb25zb2xlLmxvZyhlbGUpOw0KICAgIC8vIH0sDQogICAgLi4ubWFwTXV0YXRpb25zKFsiZ2V0VXNlckRldGFpbHMiLCAiZ2V0VW5yZWFkTnVtIl0pLA0KICAgIHVzZXJEZXRhaWxzKHVzZXIpIHsNCiAgICAgIHRoaXMuZ2V0VXNlckRldGFpbHModXNlcik7DQoNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKGAvdXNlci8ke3VzZXJ9YCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"home-nav\">\r\n      <router-link class=\"all-alticles\" to=\"/\">全部</router-link>\r\n      <router-link to=\"/good\">精华</router-link>\r\n      <router-link to=\"/share\">分享</router-link>\r\n      <router-link to=\"/ask\">问答</router-link>\r\n      <router-link to=\"/job\">招聘</router-link>\r\n      <router-link to=\"/dev\">客户端测试</router-link>\r\n    </div>\r\n    <div class=\"home-articles\">\r\n      <div class=\"lodaing\" v-if=\"allArticles.articles === []\">\r\n        <img src=\"../../public/lodaing.gif\" alt=\"\" />\r\n      </div>\r\n      <div\r\n        v-for=\"article in allArticles.articles\"\r\n        :key=\"article.id\"\r\n        class=\"home-article\"\r\n      >\r\n        <div class=\"article-top\">\r\n          <img\r\n            @click=\"userDetails(article.author.loginname)\"\r\n            class=\"authorNews\"\r\n            :src=\"article.author.avatar_url\"\r\n            alt=\"\"\r\n          />\r\n          <router-link :to=\"`/topic/${article.id}`\">{{\r\n            article.title\r\n          }}</router-link>\r\n          <!-- <a :href=\"`/topic/${article.id}`\">{{ article.title }}</a> -->\r\n        </div>\r\n        <div class=\"article-bottom\">\r\n          <div class=\"bottom-left\">\r\n            <div class=\"date\">\r\n              <span class=\"el-icon-date\"></span\r\n              >{{ article.create_at | FromNow }}\r\n            </div>\r\n            <div>\r\n              <span class=\"el-icon-price-tag\"></span\r\n              >{{ article | getTitleType }}\r\n            </div>\r\n            <div>\r\n              <span class=\"el-icon-chat-line-square\"></span\r\n              >{{ article.reply_count }}\r\n            </div>\r\n          </div>\r\n          <div class=\"bottom-right\">\r\n            <span class=\"el-icon-view\"></span>{{ article.visit_count }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"home-pagination\">\r\n        <el-pagination\r\n          :currentPage.sync=\"currentPage\"\r\n          background\r\n          layout=\"prev, pager, next\"\r\n          :page-size=\"40\"\r\n          :total=\"nowPag\"\r\n          @current-change=\"getCurrentArticles\"\r\n        >\r\n        </el-pagination>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions, mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: {},\r\n  data() {\r\n    return {\r\n      articlesNum: {\r\n        all: 680,\r\n        good: 720,\r\n        share: 440,\r\n        ask: 280,\r\n        job: 240,\r\n        dev: 360,\r\n      },\r\n      nowPag: 680,\r\n      currentPage: 1,\r\n      tab: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    this.getUnreadNum();\r\n  },\r\n  computed: {\r\n    ...mapState([\"allArticles\"]),\r\n  },\r\n  watch: {\r\n    //监听路由改变，对应获取文章分类\r\n    \"$route.params.tag\": {\r\n      handler(newValue) {\r\n        // let tab = \"\";\r\n        newValue ? (this.tab = `&tab=${newValue}`) : (this.tab = \"\");\r\n        this.getArticles({ tab: this.tab, page: 1 });\r\n        !newValue\r\n          ? (this.nowPag = 680)\r\n          : newValue === \"good\"\r\n          ? (this.nowPag = 720)\r\n          : newValue === \"share\"\r\n          ? (this.nowPag = 440)\r\n          : newValue === \"ask\"\r\n          ? (this.nowPag = 280)\r\n          : newValue === \"job\"\r\n          ? (this.nowPag = 240)\r\n          : newValue === \"dev\"\r\n          ? (this.nowPag = 360)\r\n          : (newValue = 0);\r\n        this.currentPage = 1;\r\n        // console.log(newValue);\r\n      },\r\n      immediate: true,\r\n    },\r\n  },\r\n  methods: {\r\n    ...mapActions([\"getArticles\"]),\r\n\r\n    getCurrentArticles() {\r\n      // console.log(this.currentPage);\r\n      this.getArticles({ tab: this.tab, page: this.currentPage });\r\n    },\r\n    // userDetails(ele) {\r\n    //   console.log(ele);\r\n    // },\r\n    ...mapMutations([\"getUserDetails\", \"getUnreadNum\"]),\r\n    userDetails(user) {\r\n      this.getUserDetails(user);\r\n\r\n      this.$router.push(`/user/${user}`);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang='less'>\r\n.home {\r\n  background-color: #3b4348;\r\n  width: 100%;\r\n  .home-nav {\r\n    margin: 0 auto;\r\n    width: 1170px;\r\n    padding: 12px 0;\r\n\r\n    a {\r\n      font-size: 13px;\r\n      color: #c1cad1;\r\n      display: inline-block;\r\n      padding: 0 10px 0 10px;\r\n    }\r\n    a.all-alticles {\r\n      padding-left: 0px;\r\n    }\r\n    a:hover {\r\n      color: white;\r\n    }\r\n    .router-link-exact-active {\r\n      color: white;\r\n    }\r\n  }\r\n  .home-articles {\r\n    padding: 40px 0;\r\n    background-color: white;\r\n    .home-article {\r\n      margin-bottom: 30px;\r\n      .article-top {\r\n        display: flex;\r\n        margin: 11px 0;\r\n        img {\r\n          margin: auto 0;\r\n          display: block;\r\n          width: 28px;\r\n          height: 28px;\r\n          border-radius: 4px;\r\n          margin-right: 10px;\r\n        }\r\n        a {\r\n          display: block;\r\n          width: 60%;\r\n          line-height: 28px;\r\n          color: #3b4348;\r\n          font-size: 18px;\r\n          font-weight: bold;\r\n          white-space: nowrap;\r\n          overflow: hidden;\r\n          text-overflow: ellipsis;\r\n          padding-bottom: 4px;\r\n        }\r\n        a:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n      .article-bottom {\r\n        line-height: 24px;\r\n        color: #6f7579;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        font-size: 12px;\r\n        border-top: 1px solid #f2f2f2;\r\n        border-bottom: 1px solid #f2f2f2;\r\n        padding-bottom: 4px;\r\n        span {\r\n          margin: auto 0;\r\n          display: inline-block;\r\n          font-size: 18px;\r\n          vertical-align: middle;\r\n          font-weight: 600;\r\n          margin-right: 5px;\r\n        }\r\n        .bottom-left {\r\n          display: flex;\r\n          div {\r\n            margin-right: 15px;\r\n          }\r\n          div.date {\r\n            width: 80px;\r\n            margin-right: 0;\r\n          }\r\n        }\r\n        .bottom-right {\r\n          margin-right: 15px;\r\n        }\r\n      }\r\n    }\r\n    .home-pagination {\r\n      .el-pagination.is-background .el-pager li:not(.disabled).active {\r\n        background-color: #3b4348;\r\n        color: white !important;\r\n      }\r\n      .el-pagination.is-background .el-pager li:not(.disabled):hover {\r\n        color: #ccc;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"]}]}