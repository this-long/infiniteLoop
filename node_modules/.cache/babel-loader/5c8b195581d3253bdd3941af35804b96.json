{"remainingRequest":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\thread-loader\\dist\\cjs.js!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\babel-loader\\lib\\index.js!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\store\\moduleStore\\myMessage.js","dependencies":[{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\store\\moduleStore\\myMessage.js","mtime":1624791998182},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2EtbXktaHRtbC9odG1sLVZ1ZS9WVUUvVlVFLXByb2plY3QvXHU4MTdFXHU4QkFGXHU0RTkxL1x1NjVCMFx1NUVGQVx1NjU4N1x1NEVGNlx1NTkzOS9pbmZpbml0ZUxvb3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciBteU1lc3NhZ2UgPSB7CiAgc3RhdGU6IGZ1bmN0aW9uIHN0YXRlKCkgewogICAgcmV0dXJuIHsKICAgICAgdW5yZWFkTnVtOiAwLAogICAgICBtZXNzYWdlczogewogICAgICAgIGRhdGE6IHsKICAgICAgICAgIGhhc25vdF9yZWFkX21lc3NhZ2VzOiBbXSwKICAgICAgICAgIGhhc19yZWFkX21lc3NhZ2VzOiBbXQogICAgICAgIH0KICAgICAgfQogICAgfTsKICB9LAogIG11dGF0aW9uczogewogICAgZ2V0VW5yZWFkTnVtOiBmdW5jdGlvbiBnZXRVbnJlYWROdW0oc3RhdGUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzdG9rZW4iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvbWVzc2FnZS9jb3VudD9hY2Nlc3N0b2tlbj0iLmNvbmNhdChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpKSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgc3RhdGUudW5yZWFkTnVtID0gcmVzLmRhdGE7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRNZXNzYWdlOiBmdW5jdGlvbiBnZXRNZXNzYWdlKHN0YXRlKSB7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi9tZXNzYWdlcz9hY2Nlc3N0b2tlbj0iLmNvbmNhdChzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICAgICAgICAgIHN0YXRlLm1lc3NhZ2VzID0gcmVzOyAvLyBjb25zb2xlLmxvZyhzdGF0ZS5tZXNzYWdlcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhhc1JlYWRNZXNzYWdlOiBmdW5jdGlvbiBoYXNSZWFkTWVzc2FnZShzdGF0ZSkgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnL21lc3NhZ2UvbWFya19hbGwnLCB7CiAgICAgICAgICAgICAgICAgIGFjY2Vzc3Rva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICAgICAgc3RhdGUudW5yZWFkTnVtID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7fQp9OwpleHBvcnQgZGVmYXVsdCBteU1lc3NhZ2U7"},{"version":3,"sources":["D:/a-my-html/html-Vue/VUE/VUE-project/腾讯云/新建文件夹/infiniteLoop/src/store/moduleStore/myMessage.js"],"names":["axios","myMessage","state","unreadNum","messages","data","hasnot_read_messages","has_read_messages","mutations","getUnreadNum","sessionStorage","getItem","get","res","getMessage","hasReadMessage","post","accesstoken","actions"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAMC,SAAS,GAAG;AACdC,EAAAA,KAAK,EAAE;AAAA,WAAO;AACVC,MAAAA,SAAS,EAAE,CADD;AAEVC,MAAAA,QAAQ,EAAE;AACNC,QAAAA,IAAI,EAAE;AACFC,UAAAA,oBAAoB,EAAE,EADpB;AAEFC,UAAAA,iBAAiB,EAAE;AAFjB;AADA;AAFA,KAAP;AAAA,GADO;AAWdC,EAAAA,SAAS,EAAE;AACDC,IAAAA,YADC,wBACYP,KADZ,EACoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACnBQ,cAAc,CAACC,OAAf,CAAuB,aAAvB,CADmB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAEDX,KAAK,CAACY,GAAN,sCAAwCF,cAAc,CAACC,OAAf,CAAuB,aAAvB,CAAxC,EAFC;;AAAA;AAEbE,gBAAAA,GAFa;AAGnB;AACAX,gBAAAA,KAAK,CAACC,SAAN,GAAkBU,GAAG,CAACR,IAAtB;;AAJmB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAO1B,KARM;AASDS,IAAAA,UATC,sBASUZ,KATV,EASiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACFF,KAAK,CAACY,GAAN,iCACWF,cAAc,CAACC,OAAf,CAAuB,aAAvB,CADX,EADE;;AAAA;AACdE,gBAAAA,GADc;AAIpB;AACAX,gBAAAA,KAAK,CAACE,QAAN,GAAiBS,GAAjB,CALoB,CAMpB;;AANoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOvB,KAhBM;AAiBDE,IAAAA,cAjBC,0BAiBcb,KAjBd,EAiBqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACNF,KAAK,CAACgB,IAAN,CAAW,mBAAX,EAAgC;AAAEC,kBAAAA,WAAW,EAAEP,cAAc,CAACC,OAAf,CAAuB,aAAvB;AAAf,iBAAhC,CADM;;AAAA;AAClBE,gBAAAA,GADkB;AAExB;AACAX,gBAAAA,KAAK,CAACC,SAAN,GAAkB,CAAlB;;AAHwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAI3B;AArBM,GAXG;AAkCde,EAAAA,OAAO,EAAE;AAlCK,CAAlB;AAuCA,eAAejB,SAAf","sourcesContent":["import axios from 'axios'\r\n\r\nconst myMessage = {\r\n    state: () => ({\r\n        unreadNum: 0,\r\n        messages: {\r\n            data: {\r\n                hasnot_read_messages: [],\r\n                has_read_messages: []\r\n            }\r\n        }\r\n\r\n    }),\r\n    mutations: {\r\n        async getUnreadNum(state,) {\r\n            if (sessionStorage.getItem(\"accesstoken\")) {\r\n                const res = await axios.get(`/message/count?accesstoken=${sessionStorage.getItem(\"accesstoken\")}`)\r\n                // console.log(res);\r\n                state.unreadNum = res.data\r\n            }\r\n\r\n        },\r\n        async getMessage(state) {\r\n            const res = await axios.get(\r\n                `/messages?accesstoken=${sessionStorage.getItem(\"accesstoken\")}`\r\n            );\r\n            // console.log(res);\r\n            state.messages = res\r\n            // console.log(state.messages);\r\n        },\r\n        async hasReadMessage(state) {\r\n            const res = await axios.post('/message/mark_all', { accesstoken: sessionStorage.getItem(\"accesstoken\") })\r\n            // console.log(res);\r\n            state.unreadNum = 0\r\n        }\r\n    },\r\n    actions: {\r\n    }\r\n\r\n}\r\n\r\nexport default myMessage"]}]}