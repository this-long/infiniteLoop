{"remainingRequest":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\thread-loader\\dist\\cjs.js!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\babel-loader\\lib\\index.js!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\views\\TopicLong.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\src\\views\\TopicLong.vue","mtime":1624791998188},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\a-my-html\\html-Vue\\VUE\\VUE-project\\腾讯云\\新建文件夹\\infiniteLoop\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2EtbXktaHRtbC9odG1sLVZ1ZS9WVUUvVlVFLXByb2plY3QvXHU4MTdFXHU4QkFGXHU0RTkxL1x1NjVCMFx1NUVGQVx1NjU4N1x1NEVGNlx1NTkzOS9pbmZpbml0ZUxvb3Avbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJEOi9hLW15LWh0bWwvaHRtbC1WdWUvVlVFL1ZVRS1wcm9qZWN0L1x1ODE3RVx1OEJBRlx1NEU5MS9cdTY1QjBcdTVFRkFcdTY1ODdcdTRFRjZcdTU5MzkvaW5maW5pdGVMb29wL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgSG9tZU5hdiBmcm9tICIuLi9jb21wb25lbnRzL0hvbWVOYXYudnVlIjsKaW1wb3J0IExpdHRsZUhlYWRlciBmcm9tICIuLi9jb21wb25lbnRzL0xpdHRsZUhlYWRlci52dWUiOwppbXBvcnQgRWRpdG9yIGZyb20gIkB0aW55bWNlL3RpbnltY2UtdnVlIjsKaW1wb3J0IHsgbWFwTXV0YXRpb25zLCBtYXBTdGF0ZSB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSG9tZU5hdjogSG9tZU5hdiwKICAgIExpdHRsZUhlYWRlcjogTGl0dGxlSGVhZGVyLAogICAgZWRpdG9yOiBFZGl0b3IKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0b3BpYzogIiIsCiAgICAgIGFkZENvbW1lbnRJbnB1dDogIiIsCiAgICAgIHJlcGxpZXNDb21tZW50OiAiIiwKICAgICAgYWRkVHlwZTogIiIKICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgLy8gY29uc29sZS5sb2codGhpcy4kcm91dGUucGFyYW1zLmlkKTsKICAgIHRoaXMuZ2V0VG9waWMoKTsgLy8gdGhpcy5hbGxDb2xsZWN0KCk7CiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRvcGljKTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBTdGF0ZShbInNpbmdVcCJdKSksCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHsKICAgIC8v6I635Y+W5paH56ug5pWw5o2u5bm26I635Y+W5piv5ZCm5pS26JeP54K56LWe44CCCiAgICBnZXRUb3BpYzogZnVuY3Rpb24gZ2V0VG9waWMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MuZ2V0KCIvdG9waWMvIi5jb25jYXQoX3RoaXMuJHJvdXRlLnBhcmFtcy5pZCwgIj9hY2Nlc3N0b2tlbj0iKS5jb25jYXQoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzdG9rZW4iKSkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMudG9waWMgPSByZXM7IC8vIGNvbnNvbGUubG9nKHJlcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmt7vliqDor4TorroKICAgIGFkZENvbW1lbnQ6IGZ1bmN0aW9uIGFkZENvbW1lbnQoZWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGFjdGl2ZUVkaXRvciwgZWRpdEJvZHksIGNvbW1lbnRUZXh0LCByZXMsIF9yZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuYWRkQ29tbWVudElucHV0ICE9PSAiIiB8fCBfdGhpczIucmVwbGllc0NvbW1lbnQgIT09ICIiKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBhY3RpdmVFZGl0b3IgPSB0aW55bWNlLmFjdGl2ZUVkaXRvcjsKICAgICAgICAgICAgICAgIGVkaXRCb2R5ID0gYWN0aXZlRWRpdG9yLmdldEJvZHkoKTsKICAgICAgICAgICAgICAgIGFjdGl2ZUVkaXRvci5zZWxlY3Rpb24uc2VsZWN0KGVkaXRCb2R5KTsKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRDb21tZW50SW5wdXQgPSBhY3RpdmVFZGl0b3Iuc2VsZWN0aW9uLmdldENvbnRlbnQoewogICAgICAgICAgICAgICAgICBmb3JtYXQ6ICJ0ZXh0IgogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpczIucmVwbGllc0NvbW1lbnQgPSBhY3RpdmVFZGl0b3Iuc2VsZWN0aW9uLmdldENvbnRlbnQoewogICAgICAgICAgICAgICAgICBmb3JtYXQ6ICJ0ZXh0IgogICAgICAgICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKHRoaXMuYWRkQ29tbWVudElucHV0KTsKCiAgICAgICAgICAgICAgICBpZiAoIShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpICE9PSBudWxsKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjb21tZW50VGV4dCA9IHt9OwoKICAgICAgICAgICAgICAgIGlmIChfdGhpczIuYWRkVHlwZSA9PT0gIm9ubHkiKSB7CiAgICAgICAgICAgICAgICAgIGNvbW1lbnRUZXh0ID0gewogICAgICAgICAgICAgICAgICAgIGFjY2Vzc3Rva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpLAogICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IF90aGlzMi5hZGRDb21tZW50SW5wdXQKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmFkZFR5cGUgPT09ICJvdGhlciIpIHsKICAgICAgICAgICAgICAgICAgY29tbWVudFRleHQgPSB7CiAgICAgICAgICAgICAgICAgICAgYWNjZXNzdG9rZW46IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oImFjY2Vzc3Rva2VuIiksCiAgICAgICAgICAgICAgICAgICAgY29udGVudDogIkAiLmNvbmNhdChlbGUuYXV0aG9yLmxvZ2lubmFtZSwgIiAiKS5jb25jYXQoX3RoaXMyLnJlcGxpZXNDb21tZW50KSwKICAgICAgICAgICAgICAgICAgICByZXBseV9pZDogZWxlLnJlcGx5X2lkCiAgICAgICAgICAgICAgICAgIH07IC8vIGNvbnNvbGUubG9nKCLlj5HluIPkuobor4TorroiKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoIi90b3BpYy8iLmNvbmNhdChfdGhpczIudG9waWMuZGF0YS5pZCwgIi9yZXBsaWVzIiksIGNvbW1lbnRUZXh0KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICAgIGlmICghcmVzLnN1Y2Nlc3MpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxNTsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi90b3BpYy8iLmNvbmNhdChfdGhpczIuJHJvdXRlLnBhcmFtcy5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgICAgX3JlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgX3RoaXMyLnRvcGljID0gX3JlczsKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRDb21tZW50SW5wdXQgPSAiIjsKICAgICAgICAgICAgICAgIF90aGlzMi5yZXBsaWVzQ29tbWVudCA9ICIiOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLmga3llpzkvaDvvIzmiJDlip/lj5HluIPkuobkuIDmnaHor4TorroiLAogICAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuivt+WFiOeZu+mZhu+8jOWGjei/m+ihjOivhOiuuiIsCiAgICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjU6CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+E6K665YaF5a655LiN6IO95Li656m65ZOmIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFNlbGZDb21tZW50OiBmdW5jdGlvbiBhZGRTZWxmQ29tbWVudCgpIHsKICAgICAgdGhpcy5hZGRUeXBlID0gIm9ubHkiOwogICAgICB0aGlzLmFkZENvbW1lbnQoKTsKICAgIH0sCiAgICAvLyDor4TorrrngrnotZ4KICAgIGNvbW1lbnRVcHM6IGZ1bmN0aW9uIGNvbW1lbnRVcHMoZWxlLCBpbmRleCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzdG9rZW4iKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShlbGUuYXV0aG9yLmxvZ2lubmFtZSAhPT0gX3RoaXMzLnNpbmdVcC51c2VyYWxsLmxvZ2lubmFtZSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgiL3JlcGx5LyIuY29uY2F0KGVsZS5pZCwgIi91cHMiKSwgewogICAgICAgICAgICAgICAgICBhY2Nlc3N0b2tlbjogc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzdG9rZW4iKQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChyZXMuYWN0aW9uID09PSAidXAiKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy50b3BpYy5kYXRhLnJlcGxpZXNbaW5kZXhdLnVwcy5wdXNoKDEpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMzLnRvcGljLmRhdGEucmVwbGllc1tpbmRleF0uaXNfdXBlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczMudG9waWMuZGF0YS5yZXBsaWVzW2luZGV4XS5pc191cGVkID0gZmFsc2U7CgogICAgICAgICAgICAgICAgICBfdGhpczMudG9waWMuZGF0YS5yZXBsaWVzW2luZGV4XS51cHMucG9wKCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLkurLvvIzkuI3og73nu5noh6rlt7HngrnotZ7lk6YiLAogICAgICAgICAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICBtZXNzYWdlOiAi6K+35YWI55m76ZmG77yM5YaN6L+b6KGM54K56LWeIiwKICAgICAgICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5Zue5aSN6K+E6K66CiAgICByZXBseUNvbW1lbnQ6IGZ1bmN0aW9uIHJlcGx5Q29tbWVudChpbmRleCkgewogICAgICBpZiAoc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzdG9rZW4iKSkgewogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5lZGl0b3IiLmNvbmNhdChpbmRleCkpLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgbWVzc2FnZTogIuivt+WFiOeZu+mZhu+8jOWGjeWbnuWkjeivhOiuuiIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlcGx5SXM6IGZ1bmN0aW9uIHJlcGx5SXMoZWxlLCBpbmRleCkgewogICAgICB0aGlzLmFkZFR5cGUgPSAib3RoZXIiOwogICAgICB0aGlzLmFkZENvbW1lbnQoZWxlKTsKICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiLmVkaXRvciIuY29uY2F0KGluZGV4KSkuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKICAgIH0KICB9LCBtYXBNdXRhdGlvbnMoWyJnZXRVc2VyRGV0YWlscyIsICJnZXRFZGl0VG9waWMiXSkpLCB7fSwgewogICAgdXNlckRldGFpbHM6IGZ1bmN0aW9uIHVzZXJEZXRhaWxzKHVzZXIpIHsKICAgICAgdGhpcy5nZXRVc2VyRGV0YWlscyh1c2VyKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c2VyLyIuY29uY2F0KHVzZXIpKTsKICAgIH0sCiAgICAvL+aUtuiXj+WKn+iDvQogICAgLy8g6I635Y+W55So5oi35pS26JeP5YiX6KGoCiAgICBhbGxDb2xsZWN0OiBmdW5jdGlvbiBhbGxDb2xsZWN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5nZXQoIi90b3BpY19jb2xsZWN0LyIuY29uY2F0KF90aGlzNC50b3BpYy5kYXRhLmF1dGhvci5sb2dpbm5hbWUpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v5re75Yqg5Y+W5raI5pS26JePCiAgICBhZGRDb2xsZWN0aW9uOiBmdW5jdGlvbiBhZGRDb2xsZWN0aW9uKCkgewogICAgICB2YXIgcG9zdHNyYyA9ICIiOwoKICAgICAgaWYgKHRoaXMudG9waWMuZGF0YS5pc19jb2xsZWN0KSB7CiAgICAgICAgcG9zdHNyYyA9ICJkZV9jb2xsZWN0IjsKICAgICAgICB0aGlzLnRvcGljLmRhdGEuaXNfY29sbGVjdCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHBvc3RzcmMgPSAiY29sbGVjdCI7CiAgICAgICAgdGhpcy50b3BpYy5kYXRhLmlzX2NvbGxlY3QgPSB0cnVlOwogICAgICB9CgogICAgICBheGlvcy5wb3N0KCIvdG9waWNfY29sbGVjdC8iLmNvbmNhdChwb3N0c3JjKSwgewogICAgICAgIGFjY2Vzc3Rva2VuOiBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCJhY2Nlc3N0b2tlbiIpLAogICAgICAgIHRvcGljX2lkOiB0aGlzLnRvcGljLmRhdGEuaWQKICAgICAgfSk7CiAgICB9LAogICAgLy/ot7PovaznvJbovpEKICAgIGNsaWNrRWRpdDogZnVuY3Rpb24gY2xpY2tFZGl0KCkgewogICAgICB0aGlzLmdldEVkaXRUb3BpYyh0aGlzLnRvcGljKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi90b3BpYy9jcmVhdGUiKTsKICAgIH0KICB9KQp9Ow=="},{"version":3,"sources":["TopicLong.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"topic-long\">\r\n    <HomeNav>/ 文章</HomeNav>\r\n    <div v-if=\"topic !== ''\" class=\"topic-main\">\r\n      <div class=\"topic-top\">\r\n        <span class=\"type\">{{ topic.data | getTitleType }}</span>\r\n        <span class=\"title\">{{ topic.data.title }}</span>\r\n        <div class=\"title-bottom\">\r\n          <ul>\r\n            <li><span />发布于{{ topic.data.create_at | FromNow }}</li>\r\n            <li\r\n              class=\"authorNews\"\r\n              @click=\"userDetails(topic.data.author.loginname)\"\r\n            >\r\n              <span />作者{{ topic.data.author.loginname }}\r\n            </li>\r\n            <li><span />{{ topic.data.visit_count }}次浏览</li>\r\n            <li>\r\n              <span />最后一次编辑是{{ topic.data.last_reply_at | FromNow }}\r\n            </li>\r\n            <li><span />来自{{ topic.data | fromWhere }}</li>\r\n          </ul>\r\n          <!-- 收藏按钮 -->\r\n          <el-button\r\n            @click=\"addCollection()\"\r\n            v-if=\"singUp.userall\"\r\n            type=\"info\"\r\n            size=\"small\"\r\n          >\r\n            {{ topic.data.is_collect ? \"取消收藏\" : \"收藏\" }}\r\n          </el-button>\r\n        </div>\r\n        <div\r\n          v-if=\"\r\n            singUp.userall !== null &&\r\n            topic.data.author_id === singUp.userall.id\r\n          \"\r\n          class=\"edit-topic\"\r\n        >\r\n          <span @click=\"clickEdit()\" title=\"编辑\" class=\"el-icon-edit\"></span>\r\n        </div>\r\n      </div>\r\n      <div class=\"topic-content\" v-html=\"topic.data.content\"></div>\r\n      <div class=\"topic-comments\">\r\n        <!-- 评论区 -->\r\n        <LittleHeader>{{ topic.data.replies.length }} 回复</LittleHeader>\r\n        <div class=\"main-cuntent\">\r\n          <div\r\n            v-for=\"(ele, index) in topic.data.replies\"\r\n            :key=\"ele.id\"\r\n            class=\"topic-comment\"\r\n          >\r\n            <div class=\"author-cuntent\">\r\n              <div class=\"author-left\">\r\n                <img\r\n                  class=\"authorNews\"\r\n                  @click=\"userDetails(ele.author.loginname)\"\r\n                  :title=\"ele.author.loginname\"\r\n                  :src=\"ele.author.avatar_url\"\r\n                  alt=\"\"\r\n                />\r\n                <div class=\"user-info\">\r\n                  <a class=\"name\" href=\"#\">{{ ele.author.loginname }}</a\r\n                  ><a class=\"time\" href=\"#addcomment\">\r\n                    {{ index + 1 }}楼 {{ ele.create_at | FromNow }}</a\r\n                  >\r\n                  <span\r\n                    v-if=\"ele.author.loginname === topic.data.author.loginname\"\r\n                    class=\"ifauthor\"\r\n                    >作者</span\r\n                  >\r\n                </div>\r\n              </div>\r\n              <!-- 评论操作 -->\r\n              <div class=\"author-right\">\r\n                <span\r\n                  @click=\"commentUps(ele, index)\"\r\n                  title=\"点赞\"\r\n                  :class=\"\r\n                    ele.is_uped ? 'el-icon-thumb active' : 'el-icon-thumb'\r\n                  \"\r\n                ></span>\r\n                <span>{{ ele.ups.length }}</span>\r\n                <span\r\n                  @click=\"replyComment(index)\"\r\n                  title=\"回复\"\r\n                  class=\"el-icon-chat-round\"\r\n                ></span>\r\n              </div>\r\n            </div>\r\n            <div class=\"reply-cuntent\">\r\n              <p v-html=\"ele.content\"></p>\r\n            </div>\r\n            <div :class=\"`commentreply  editor${index}`\">\r\n              <editor\r\n                api-key=\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\"\r\n                v-model=\"repliesComment\"\r\n                :init=\"{\r\n                  height: 250,\r\n                  menubar: false,\r\n                  language: 'zh_CN',\r\n                  resize: 'false',\r\n                  plugins: [\r\n                    'advlist autolink lists link image charmap print preview anchor',\r\n                    'searchreplace visualblocks code fullscreen',\r\n                    'insertdatetime media table paste code help wordcount ',\r\n                  ],\r\n                  toolbar:\r\n                    'undo redo | formatselect | bold italic backcolor | \\\r\n           alignleft aligncenter alignright alignjustify | \\\r\n           bullist numlist outdent indent | removeformat | help',\r\n                }\"\r\n              />\r\n              <div class=\"editor-buttom\">\r\n                <el-button\r\n                  @click=\"replyIs(ele, index)\"\r\n                  :plain=\"true\"\r\n                  type=\"info\"\r\n                  >回复</el-button\r\n                >\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"add-comment\" id=\"addcomment\">\r\n        <LittleHeader>添加回复</LittleHeader>\r\n        <div class=\"add-main\">\r\n          <editor\r\n            api-key=\"9mieih2cqsubf30b1omff3w107ojvjfvzhmb7haq4giiy754\"\r\n            v-model=\"addCommentInput\"\r\n            :init=\"{\r\n              height: 350,\r\n              menubar: false,\r\n              language: 'zh_CN',\r\n              resize: 'false',\r\n              plugins: [\r\n                'advlist autolink lists link image charmap print preview anchor',\r\n                'searchreplace visualblocks code fullscreen',\r\n                'insertdatetime media table paste code help wordcount ',\r\n              ],\r\n              toolbar:\r\n                'undo redo | formatselect | bold italic backcolor | \\\r\n           alignleft aligncenter alignright alignjustify | \\\r\n           bullist numlist outdent indent | removeformat | help',\r\n            }\"\r\n          />\r\n          <div class=\"editor-buttom\">\r\n            <el-button @click=\"addSelfComment()\" :plain=\"true\" type=\"info\"\r\n              >回复</el-button\r\n            >\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport HomeNav from \"../components/HomeNav.vue\";\r\nimport LittleHeader from \"../components/LittleHeader.vue\";\r\nimport Editor from \"@tinymce/tinymce-vue\";\r\nimport { mapMutations, mapState } from \"vuex\";\r\nexport default {\r\n  components: { HomeNav, LittleHeader, editor: Editor },\r\n  data() {\r\n    return {\r\n      topic: \"\",\r\n      addCommentInput: \"\",\r\n      repliesComment: \"\",\r\n      addType: \"\",\r\n    };\r\n  },\r\n  created() {\r\n    // console.log(this.$route.params.id);\r\n    this.getTopic();\r\n    // this.allCollect();\r\n    // console.log(this.topic);\r\n  },\r\n  computed: {\r\n    ...mapState([\"singUp\"]),\r\n  },\r\n  methods: {\r\n    //获取文章数据并获取是否收藏点赞。\r\n    async getTopic() {\r\n      const res = await axios.get(\r\n        `/topic/${this.$route.params.id}?accesstoken=${sessionStorage.getItem(\r\n          \"accesstoken\"\r\n        )}`\r\n      );\r\n      this.topic = res;\r\n      // console.log(res);\r\n    },\r\n    // 添加评论\r\n    async addComment(ele) {\r\n      // 点击获取到评论;\r\n      //判断是否为空\r\n      if (this.addCommentInput !== \"\" || this.repliesComment !== \"\") {\r\n        var activeEditor = tinymce.activeEditor;\r\n        var editBody = activeEditor.getBody();\r\n        activeEditor.selection.select(editBody);\r\n        this.addCommentInput = activeEditor.selection.getContent({\r\n          format: \"text\",\r\n        });\r\n        this.repliesComment = activeEditor.selection.getContent({\r\n          format: \"text\",\r\n        });\r\n        // console.log(this.addCommentInput);\r\n        if (sessionStorage.getItem(\"accesstoken\") !== null) {\r\n          let commentText = {};\r\n          if (this.addType === \"only\") {\r\n            commentText = {\r\n              accesstoken: sessionStorage.getItem(\"accesstoken\"),\r\n              content: this.addCommentInput,\r\n            };\r\n          } else if (this.addType === \"other\") {\r\n            commentText = {\r\n              accesstoken: sessionStorage.getItem(\"accesstoken\"),\r\n              content: `@${ele.author.loginname} ${this.repliesComment}`,\r\n              reply_id: ele.reply_id,\r\n            };\r\n            // console.log(\"发布了评论\");\r\n          }\r\n          const res = await axios.post(\r\n            `/topic/${this.topic.data.id}/replies`,\r\n            commentText\r\n          );\r\n          if (res.success) {\r\n            //不重新发送请求很难完美更新数据。\r\n            const res = await axios.get(`/topic/${this.$route.params.id}`);\r\n            this.topic = res;\r\n            this.addCommentInput = \"\";\r\n            this.repliesComment = \"\";\r\n            this.$message({\r\n              message: \"恭喜你，成功发布了一条评论\",\r\n              type: \"success\",\r\n            });\r\n          }\r\n          // console.log(res);\r\n        } else {\r\n          this.$message({\r\n            message: \"请先登陆，再进行评论\",\r\n            type: \"warning\",\r\n          });\r\n        }\r\n      } else {\r\n        this.$message({\r\n          message: \"评论内容不能为空哦\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    addSelfComment() {\r\n      this.addType = \"only\";\r\n      this.addComment();\r\n    },\r\n    // 评论点赞\r\n    async commentUps(ele, index) {\r\n      if (sessionStorage.getItem(\"accesstoken\")) {\r\n        //判断是否是自己\r\n        if (ele.author.loginname !== this.singUp.userall.loginname) {\r\n          const res = await axios.post(`/reply/${ele.id}/ups`, {\r\n            accesstoken: sessionStorage.getItem(\"accesstoken\"),\r\n          });\r\n          if (res.action === \"up\") {\r\n            this.topic.data.replies[index].ups.push(1);\r\n            this.topic.data.replies[index].is_uped = true;\r\n          } else {\r\n            this.topic.data.replies[index].is_uped = false;\r\n            this.topic.data.replies[index].ups.pop();\r\n          }\r\n        } else {\r\n          this.$message({\r\n            message: \"亲，不能给自己点赞哦\",\r\n            type: \"warning\",\r\n          });\r\n        }\r\n      } else {\r\n        this.$message({\r\n          message: \"请先登陆，再进行点赞\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    //回复评论\r\n    replyComment(index) {\r\n      if (sessionStorage.getItem(\"accesstoken\")) {\r\n        document.querySelector(`.editor${index}`).style.display = \"block\";\r\n      } else {\r\n        this.$message({\r\n          message: \"请先登陆，再回复评论\",\r\n          type: \"warning\",\r\n        });\r\n      }\r\n    },\r\n    replyIs(ele, index) {\r\n      this.addType = \"other\";\r\n      this.addComment(ele);\r\n      document.querySelector(`.editor${index}`).style.display = \"none\";\r\n    },\r\n    //作者详情\r\n    ...mapMutations([\"getUserDetails\", \"getEditTopic\"]),\r\n    userDetails(user) {\r\n      this.getUserDetails(user);\r\n\r\n      this.$router.push(`/user/${user}`);\r\n    },\r\n    //收藏功能\r\n    // 获取用户收藏列表\r\n    async allCollect() {\r\n      const res = await axios.get(\r\n        `/topic_collect/${this.topic.data.author.loginname}`\r\n      );\r\n      // console.log(res);\r\n    },\r\n    //添加取消收藏\r\n    addCollection() {\r\n      let postsrc = \"\";\r\n      if (this.topic.data.is_collect) {\r\n        postsrc = \"de_collect\";\r\n        this.topic.data.is_collect = false;\r\n      } else {\r\n        postsrc = \"collect\";\r\n        this.topic.data.is_collect = true;\r\n      }\r\n      axios.post(`/topic_collect/${postsrc}`, {\r\n        accesstoken: sessionStorage.getItem(\"accesstoken\"),\r\n        topic_id: this.topic.data.id,\r\n      });\r\n    },\r\n    //跳转编辑\r\n    clickEdit() {\r\n      this.getEditTopic(this.topic);\r\n      this.$router.push(\"/topic/create\");\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang='less'>\r\n.topic-long {\r\n  .topic-main {\r\n    .topic-top {\r\n      margin-top: 30px;\r\n      border-bottom: 1px solid #333;\r\n      padding: 8px 0;\r\n      padding-bottom: 15px;\r\n      span.type {\r\n        font-size: 12px;\r\n        padding: 2px 4px;\r\n        background-color: #6f7579;\r\n        color: white;\r\n        border-radius: 4px;\r\n        margin-right: 10px;\r\n      }\r\n      span.title {\r\n        font-size: 22px;\r\n        font-weight: 700;\r\n        margin: 8px 0;\r\n        line-height: 35px;\r\n      }\r\n      .title-bottom {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        // line-height: 40px;\r\n        button {\r\n          margin-top: 7px;\r\n          height: 28px;\r\n          font-size: 12px;\r\n          line-height: 14px;\r\n          padding: 5px 10px;\r\n        }\r\n      }\r\n      .edit-topic {\r\n        span {\r\n          margin-left: 8px;\r\n          cursor: pointer;\r\n          color: #838383;\r\n          font-weight: 500;\r\n        }\r\n        span:hover {\r\n          color: #333;\r\n        }\r\n      }\r\n      ul {\r\n        margin: 5px 0;\r\n        padding: 0;\r\n        li {\r\n          margin: 8px;\r\n          list-style: disc;\r\n          list-style-position: inside;\r\n          display: inline-block;\r\n          font-size: 12px;\r\n          color: #838383;\r\n          line-height: 16px;\r\n          span {\r\n            display: inline-block;\r\n            margin-bottom: 3px;\r\n            margin-right: 4px;\r\n            width: 4px;\r\n            height: 4px;\r\n            border-radius: 4px;\r\n            background-color: #838383;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .topic-content {\r\n      color: #333;\r\n      .markdown-text {\r\n        p {\r\n          line-height: 1.7em;\r\n          font-size: 15px;\r\n        }\r\n        ul {\r\n          li {\r\n            font-size: 14px;\r\n            list-style: disc;\r\n            line-height: 28px;\r\n          }\r\n        }\r\n        h1,\r\n        h2 {\r\n          border-bottom: 1px solid #eee;\r\n          line-height: 40px;\r\n        }\r\n        img {\r\n          max-width: 100%;\r\n          height: auto;\r\n        }\r\n        a {\r\n          color: #6f7579;\r\n        }\r\n        a:hover {\r\n          text-decoration: underline;\r\n        }\r\n      }\r\n    }\r\n    .topic-comments {\r\n      margin-top: 30px;\r\n      .main-cuntent {\r\n        border: 1px solid #ccc;\r\n        .topic-comment {\r\n          border-top: 1px solid #f0f0f0;\r\n          .author-cuntent {\r\n            position: relative;\r\n            padding: 10px;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            img {\r\n              width: 30px;\r\n              height: 30px;\r\n              border-radius: 3px;\r\n            }\r\n            .user-info {\r\n              position: absolute;\r\n              top: 10px;\r\n              left: 50px;\r\n              display: inline-block;\r\n              font-size: 12px;\r\n              .name {\r\n                color: #666;\r\n                font-weight: 700;\r\n              }\r\n              .name:hover {\r\n                color: #385f8a;\r\n              }\r\n              .time {\r\n                color: #08c;\r\n              }\r\n              .time:hover {\r\n                text-decoration: underline;\r\n              }\r\n              .ifauthor {\r\n                margin-left: 10px;\r\n                padding: 2px 5px;\r\n                border-radius: 3px;\r\n                color: white;\r\n                background-color: #6f7579;\r\n              }\r\n            }\r\n            .author-right {\r\n              span {\r\n                color: #929790;\r\n                font-size: 14px;\r\n                font-weight: 600;\r\n                margin-right: 5px;\r\n              }\r\n              .el-icon-thumb,\r\n              .el-icon-chat-round {\r\n                cursor: pointer;\r\n              }\r\n              .active {\r\n                color: #000;\r\n              }\r\n            }\r\n          }\r\n          .reply-cuntent {\r\n            // overflow: hidden;\r\n            p {\r\n              padding-right: 15px;\r\n              padding-left: 32px;\r\n              margin-top: -20px;\r\n              margin-bottom: 25px;\r\n              img {\r\n                width: 100%;\r\n                height: auto;\r\n              }\r\n            }\r\n          }\r\n          .commentreply {\r\n            display: none;\r\n            padding-left: 50px;\r\n            .tox-tinymce {\r\n              border: none;\r\n              border-top: 1px solid #ccc;\r\n            }\r\n            .tox-statusbar {\r\n              display: none;\r\n            }\r\n            .editor-buttom {\r\n              height: 40px;\r\n              padding-right: 15px;\r\n              margin-bottom: 15px;\r\n              button {\r\n                float: right;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .add-comment {\r\n      margin-top: 30px;\r\n      .editor-buttom {\r\n        padding: 8px 0;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}